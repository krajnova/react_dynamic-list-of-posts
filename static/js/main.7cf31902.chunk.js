(this["webpackJsonpreact_dynamic-list-of-posts"]=this["webpackJsonpreact_dynamic-list-of-posts"]||[]).push([[0],[,,,,function(e,t,a){e.exports=a(14)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),o=a(3),r=a.n(o),l=a(1),s=(a(9),a(10),a(11),function(e){var t=e.posts,a=e.postId,n=e.setSelection;return c.a.createElement("div",{className:"PostsList"},c.a.createElement("h2",null,"Posts:"),c.a.createElement("ul",{className:"PostsList__list"},t.map((function(e){var t=e.id,o=e.userId,r=e.title;return c.a.createElement("li",{className:"PostsList__item",key:t},c.a.createElement("div",null,c.a.createElement("b",null,"[User #",o,"]:"," "),r),c.a.createElement("button",{type:"button",className:"PostsList__button button",onClick:function(){return function(e){n(a===e?0:e)}(t)}},a===t?"Close":"Open"))}))))}),u="https://mate-api.herokuapp.com/comments";a(12);var m=function(e){var t=e.postId,a=Object(n.useState)(""),o=Object(l.a)(a,2),r=o[0],s=o[1],m=Object(n.useState)(""),i=Object(l.a)(m,2),p=i[0],f=i[1],E=Object(n.useState)(""),d=Object(l.a)(E,2),h=d[0],b=d[1],v=Object(n.useState)(""),_=Object(l.a)(v,2),N=_[0],j=_[1],O=function(e){var t=e.target,a=t.name,n=t.value;switch(a){case"name":s(n.trim());break;case"email":f(n.trim());break;case"body":b(n.trim());break;default:j("something went wrong")}};return c.a.createElement("form",{className:"NewCommentForm",onSubmit:function(e){e.preventDefault(),function(e,t,a,n){var c={method:"POST",body:JSON.stringify({postId:e,name:t,email:a,body:n})};fetch(u,c)}(t,r,p,h),s(""),f(""),b("")}},c.a.createElement("div",{className:"form-field"},c.a.createElement("input",{type:"text",name:"name",value:r,placeholder:"Your name",autoComplete:"off",className:"NewCommentForm__input",onChange:O})),c.a.createElement("div",{className:"form-field"},c.a.createElement("input",{type:"text",name:"email",value:p,placeholder:"Your email",autoComplete:"off",className:"NewCommentForm__input",onChange:O})),c.a.createElement("div",{className:"form-field"},c.a.createElement("textarea",{name:"body",value:h,placeholder:"Type comment here",autoComplete:"off",className:"NewCommentForm__input",onChange:O})),c.a.createElement("button",{type:"submit",className:"NewCommentForm__submit-button button"},"Add a comment"),N?c.a.createElement("p",null,N):"")};a(13);var i=function(e){var t=e.postId,a=Object(n.useState)({}),o=Object(l.a)(a,2),r=o[0],s=o[1],i=Object(n.useState)([]),p=Object(l.a)(i,2),f=p[0],E=p[1],d=Object(n.useState)(!1),h=Object(l.a)(d,2),b=h[0],v=h[1];return Object(n.useEffect)((function(){(function(e){return fetch("".concat("https://mate-api.herokuapp.com/posts","/").concat(e)).then((function(e){return e.json()})).then((function(e){return e.data}))})(t).then((function(e){return s(e)})),function(e){return fetch("".concat(u)).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(t){return t.filter((function(t){return t.postId===+e}))}))}(t).then((function(e){return E(e)}))}),[t,f]),c.a.createElement("div",{className:"PostDetails"},c.a.createElement("h2",null,"Post #".concat(r.id," details:")),c.a.createElement("section",{className:"PostDetails__post"},c.a.createElement("h3",null,r.title),c.a.createElement("p",null,r.body)),c.a.createElement("section",{className:"PostDetails__comments"},c.a.createElement("button",{type:"button",className:"button",onClick:function(){return v(!b)}},"".concat(b?"Show":"Hide"," comments")),c.a.createElement("ul",{className:"PostDetails__list",hidden:b},f.map((function(e){var t=e.id,a=e.body;return c.a.createElement("li",{className:"PostDetails__list-item"},c.a.createElement("button",{type:"button",className:"PostDetails__remove-button button",onClick:function(){return function(e){var t="".concat(u,"/").concat(e);return fetch(t,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return e.data}))}(t)}},"X"),c.a.createElement("p",null,a))})))),c.a.createElement("section",null,c.a.createElement("div",{className:"PostDetails__form-wrapper"},c.a.createElement(m,{postId:t}))))},p=function(e){var t=e.changeUser;return c.a.createElement("label",null,"Select a user: \xa0",c.a.createElement("select",{className:"App__user-selector",onChange:function(e){return t(e.target.value)}},c.a.createElement("option",{value:"0"},"All users"),c.a.createElement("option",{value:"1"},"Leanne Graham"),c.a.createElement("option",{value:"2"},"Ervin Howell"),c.a.createElement("option",{value:"3"},"Clementine Bauch"),c.a.createElement("option",{value:"4"},"Patricia Lebsack"),c.a.createElement("option",{value:"5"},"Chelsey Dietrich"),c.a.createElement("option",{value:"6"},"Mrs. Dennis Schulist"),c.a.createElement("option",{value:"7"},"Kurtis Weissnat"),c.a.createElement("option",{value:"8"},"Nicholas Runolfsdottir V"),c.a.createElement("option",{value:"9"},"Glenna Reichert"),c.a.createElement("option",{value:"10"},"Leanne Graham")))},f=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(0),u=Object(l.a)(r,2),m=u[0],f=u[1],E=function(e){var t;(t=e,fetch("".concat("https://mate-api.herokuapp.com/posts")).then((function(e){return e.json()})).then((function(e){return e.data})).then((function(e){return"0"===t?e:e.filter((function(e){return e.userId===+t}))}))).then((function(e){return o(e)}))};return Object(n.useEffect)((function(){E("0")}),[]),c.a.createElement("div",{className:"App"},c.a.createElement("header",{className:"App__header"},c.a.createElement(p,{changeUser:E})),c.a.createElement("main",{className:"App__main"},c.a.createElement("div",{className:"App__sidebar"},c.a.createElement(s,{posts:a,setSelection:f,postId:m})),c.a.createElement("div",{className:"App__content"},m?c.a.createElement(i,{postId:m}):"")))};r.a.render(c.a.createElement(f,null),document.getElementById("root"))}],[[4,1,2]]]);
//# sourceMappingURL=main.7cf31902.chunk.js.map